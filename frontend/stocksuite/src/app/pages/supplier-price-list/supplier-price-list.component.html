<div class="container">
  <div class="row">
    <form
      #brandForm="ngForm"
      (ngSubmit)="searchProducts()"
      class="row mb-3 text-center col-md-8"
    >
      <div class="col-md-10">
        <input
          type="text"
          placeholder="Supplier"
          name="supplierId"
          [(ngModel)]="supplierId"
        />
        <input
          type="text"
          placeholder="Brand"
          name="brand"
          [(ngModel)]="brand"
        />
        <input
          type="text"
          class="form-control"
          id="searchTerm"
          placeholder="Enter search term and press enter to search"
          [(ngModel)]="searchTerm"
          name="searchTerm"
          (keyup.enter)="searchProducts()"
        />
      </div>

      <div class="col-md-2">
        <button type="submit" class="btn btn-outline-primary btn-sm">
          Search
        </button>
      </div>
    </form>
  </div>
</div>

<div class="container-fluid">
  <div class="table-responsive" id="table-container">
    <table class="table table-stripped table-hover align-middle table-sm">
      <thead class="table-dark">
        <tr>
          <th scope="col">#Id</th>
          <th scope="col">Brand</th>
          <th scope="col">Code</th>
          <th scope="col">Model</th>
          <th scope="col">Description</th>
          <th scope="col">Category</th>
          <th scope="col">Date</th>
          <th scope="col">Price</th>
          <th scope="col">Selling Price</th>
          <th scope="col">Web Price</th>
          <th scope="col">Stock</th>
          <th scope="col">Barcode</th>
          <th scope="col">currency</th>
          <th class="nowrap" scope="col">Tax Rate</th>
        </tr>
      </thead>

      <tbody>
        @for (product of productList; track $index) {
        <tr (click)="selectProduct(product)">
          <td id="id">{{ product.id }}</td>
          <td>{{ product.brand }}</td>
          <td>{{ product.code }}</td>
          <td>{{ product.model }}</td>
          <td class="description-cell">{{ product.description }}</td>
          <td>{{ product.category }}</td>
          <td>{{ product.lastUpdate }}</td>

          <td>{{ product.price }}</td>
          <td>{{ product.suggestedPrice | currency }}</td>
          <td>{{ product.suggestedWebPrice | currency }}</td>
          <td>{{ product.stockAvailable }}</td>
          <td>{{ product.barcode }}</td>
          <td>{{ product.currency }}</td>
          <td>{{ product.taxRate * 100 }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
